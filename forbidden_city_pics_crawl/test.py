string = '''“故宫100品”之隋 展子虔 游春图卷 in 1280.8 at url: http://www.dpm.org.cn/download/lights_image/id/237676/img_size/2.html
“故宫100品”之元 朱碧山银槎 in 1024.1024 at url: http://www.dpm.org.cn/download/lights_image/id/237678/img_size/8.html
2014年马年春节墙纸 郊原牧马图卷 in 1680.105 at url: http://www.dpm.org.cn/download/lights_image/id/237669/img_size/3.html
清 红珊瑚云蝠灵芝纹如意 in 1024.1024 at url: http://www.dpm.org.cn/download/lights_image/id/237607/img_size/8.html
“故宫100品”之清 金錾云龙纹执壶 in 2048.2048 at url: http://www.dpm.org.cn/download/lights_image/id/237456/img_size/9.html
紫禁城的物候2 谷雨 in 720.128 at url: http://www.dpm.org.cn/download/lights_image/id/237452/img_size/7.html
“故宫100品”之金胎珊瑚桃式盒 in 1680.105 at url: http://www.dpm.org.cn/download/lights_image/id/237449/img_size/3.html
“故宫100品”之缂丝加绣乾隆御题三星图轴 in 1024.1024 at url: http://www.dpm.org.cn/download/lights_image/id/237438/img_size/8.html
“故宫100品”之清·缂丝宝典福书册册页（局部） in 640.96 at url: http://www.dpm.org.cn/download/lights_image/id/237416/img_size/5.html
“故宫100品”之清雍正　寿山石双兽纽亲贤爱民玺 in 720.128 at url: http://www.dpm.org.cn/download/lights_image/id/237417/img_size/7.html
清·缂丝御制诗花卉册 in 1680.105 at url: http://www.dpm.org.cn/download/lights_image/id/237395/img_size/3.html
“故宫100品”之晋·顾恺之洛神赋图卷局部 in 640.1136 at url: http://www.dpm.org.cn/download/lights_image/id/237378/img_size/6.html
明 沈周卧游图册 in 1280.8 at url: http://www.dpm.org.cn/download/lights_image/id/237349/img_size/2.html
清 翡翠灵芝式如意 in 1920.108 at url: http://www.dpm.org.cn/download/lights_image/id/237306/img_size/4.html
紫禁城岁时 in 1024.1024 at url: http://www.dpm.org.cn/download/lights_image/id/237305/img_size/8.html
元 赵孟頫行书酒德颂卷 in 640.1136 at url: http://www.dpm.org.cn/download/lights_image/id/236905/img_size/6.html
2008年7月墙纸 in 720.128 at url: http://www.dpm.org.cn/download/lights_image/id/236854/img_size/7.html
2008年7月墙纸 in 1920.108 at url: http://www.dpm.org.cn/download/lights_image/id/236851/img_size/4.html
2008年7月墙纸 in 1024.1024 at url: http://www.dpm.org.cn/download/lights_image/id/236854/img_size/8.html
2008年5月墙纸 in 1280.8 at url: http://www.dpm.org.cn/download/lights_image/id/236845/img_size/2.html
2008年7月墙纸 in 640.96 at url: http://www.dpm.org.cn/download/lights_image/id/236851/img_size/5.html
2008年7月墙纸 in 2048.2048 at url: http://www.dpm.org.cn/download/lights_image/id/236854/img_size/9.html
2008年6月墙纸 in 1920.108 at url: http://www.dpm.org.cn/download/lights_image/id/236848/img_size/4.html
2008年5月墙纸 in 1680.105 at url: http://www.dpm.org.cn/download/lights_image/id/236845/img_size/3.html
2008年4月墙纸 in 1024.768 at url: http://www.dpm.org.cn/download/lights_image/id/236843/img_size/1.html
2008年6月墙纸 in 640.96 at url: http://www.dpm.org.cn/download/lights_image/id/236848/img_size/5.html
2008年5月墙纸 in 1920.108 at url: http://www.dpm.org.cn/download/lights_image/id/236845/img_size/4.html
2008年6月墙纸 in 640.1136 at url: http://www.dpm.org.cn/download/lights_image/id/236848/img_size/6.html
2008年5月墙纸 in 640.96 at url: http://www.dpm.org.cn/download/lights_image/id/236845/img_size/5.html
2008年6月墙纸 in 720.128 at url: http://www.dpm.org.cn/download/lights_image/id/236848/img_size/7.html
2008年5月墙纸 in 640.1136 at url: http://www.dpm.org.cn/download/lights_image/id/236845/img_size/6.html
2008年6月墙纸 in 1024.1024 at url: http://www.dpm.org.cn/download/lights_image/id/236848/img_size/8.html
2008年5月墙纸 in 720.128 at url: http://www.dpm.org.cn/download/lights_image/id/236845/img_size/7.html
2008年4月墙纸 in 1280.8 at url: http://www.dpm.org.cn/download/lights_image/id/236843/img_size/2.html
2008年6月墙纸 in 2048.2048 at url: http://www.dpm.org.cn/download/lights_image/id/236848/img_size/9.html
2008年5月墙纸 in 1024.1024 at url: http://www.dpm.org.cn/download/lights_image/id/236845/img_size/8.html
2008年4月墙纸 in 1680.105 at url: http://www.dpm.org.cn/download/lights_image/id/236843/img_size/3.html
2008年5月墙纸 in 2048.2048 at url: http://www.dpm.org.cn/download/lights_image/id/236845/img_size/9.html
2008年4月墙纸 in 1920.108 at url: http://www.dpm.org.cn/download/lights_image/id/236843/img_size/4.html
2008年4月墙纸 in 640.96 at url: http://www.dpm.org.cn/download/lights_image/id/236843/img_size/5.html
2008年4月墙纸 in 640.1136 at url: http://www.dpm.org.cn/download/lights_image/id/236843/img_size/6.html
2008年4月墙纸 in 720.128 at url: http://www.dpm.org.cn/download/lights_image/id/236843/img_size/7.html
2008年5月墙纸 in 1024.768 at url: http://www.dpm.org.cn/download/lights_image/id/236844/img_size/1.html
2008年7月墙纸 in 640.1136 at url: http://www.dpm.org.cn/download/lights_image/id/236853/img_size/6.html
2008年4月墙纸 in 1024.1024 at url: http://www.dpm.org.cn/download/lights_image/id/236843/img_size/8.html
2008年4月墙纸 in 2048.2048 at url: http://www.dpm.org.cn/download/lights_image/id/236843/img_size/9.html
2008年4月墙纸 in 1024.768 at url: http://www.dpm.org.cn/download/lights_image/id/236842/img_size/1.html
2008年7月墙纸 in 640.1136 at url: http://www.dpm.org.cn/download/lights_image/id/236851/img_size/6.html
2008年5月墙纸 in 1280.8 at url: http://www.dpm.org.cn/download/lights_image/id/236844/img_size/2.html
2008年4月墙纸 in 1280.8 at url: http://www.dpm.org.cn/download/lights_image/id/236842/img_size/2.html
2008年4月墙纸 in 1024.768 at url: http://www.dpm.org.cn/download/lights_image/id/236840/img_size/1.html
2008年4月墙纸 in 1024.768 at url: http://www.dpm.org.cn/download/lights_image/id/236841/img_size/1.html
2004年5月墙纸 in 1920.108 at url: http://www.dpm.org.cn/download/lights_image/id/236695/img_size/4.html
2004年4月墙纸 in 1680.105 at url: http://www.dpm.org.cn/download/lights_image/id/236693/img_size/3.html
2003年3月墙纸 in 1024.768 at url: http://www.dpm.org.cn/download/lights_image/id/236675/img_size/1.html
'''

import re
import requests

regex = "(.*?) in (.*?) at url: (.*?).html"
groups = re.findall(regex, string)
root = 'D:\\forbidden_city2'
for pic in groups:
    name = pic[0]
    prefix = pic[1]
    url = pic[2] + '.html'
    entity = requests.get(url=url, timeout=2).content
    if len(entity) != 0:
        print(name + 'is downloading')
        with open(root + '\\' + name + prefix + '.jpg', 'wb') as f:
            f.write(entity)
            f.close()